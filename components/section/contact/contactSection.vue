<template>
  <div class="contact" @mousemove="moveEyes">
    <div class="mouse__cursor" ref="mouseCursor"></div>
    <h2 class="contact__title txt_h1">
      get in touch
      <i class="ico__ball"></i>
    </h2>
    <div class="contact__bg">
      <div class="contact__dog_wrap">
        <svg
          width="1440"
          height="1177"
          viewBox="0 0 1440 1177"
          fill="none"
          class="desktop-svg"
          xmlns="http://www.w3.org/2000/svg"
          data-v-b9256d9e=""
        >
          <circle
            cx="343.5"
            cy="590.5"
            r="253.5"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="166"
            cy="826"
            r="250"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="986.5"
            cy="423.5"
            r="167.5"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="1322.5"
            cy="923.5"
            r="253.5"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="1322.5"
            cy="473.5"
            r="253.5"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="1295.5"
            cy="255.5"
            r="205.5"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="1038.5"
            cy="802.5"
            r="253.5"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="731"
            cy="656"
            r="278"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="484.5"
            cy="847.5"
            r="253.5"
            fill="#F6F6ED"
            data-v-b9256d9e=""
          ></circle>
          <path
            d="M323.566 106.022C323.566 127.506 317.183 147.497 306.214 164.199C316.522 162.011 327.212 160.86 338.171 160.86C379.294 160.86 416.636 177.066 444.175 203.446C446.753 147.186 493.125 102.366 549.953 102.366C587.233 102.366 620.013 121.654 638.881 150.806C656.084 138.712 677.045 131.613 699.662 131.613C758.144 131.613 805.553 179.08 805.553 237.635C805.553 296.189 758.144 343.656 699.662 343.656C693.432 343.656 687.328 343.117 681.394 342.084C681.402 342.607 681.405 343.131 681.405 343.656C681.405 402.21 633.996 449.678 575.514 449.678C562.082 449.678 549.234 447.174 537.411 442.607C529.552 497.004 493.211 542.171 444.017 562.463C442.375 619.58 395.614 665.377 338.17 665.377C304.697 665.377 274.851 649.826 255.447 625.547C237.351 658.031 202.69 680 162.903 680C121.962 680 86.4474 656.737 68.8265 622.692C51.2325 635.731 29.4612 643.441 5.8913 643.441C-52.5908 643.441 -100 595.974 -100 537.419C-100 488.753 -67.2497 447.744 -22.6118 435.283C-23.0804 430.395 -23.32 425.441 -23.32 420.431C-23.32 396.368 -17.7918 373.598 -7.93771 353.325C-50.7343 339.717 -81.7429 299.613 -81.7429 252.258C-81.7429 210.963 -58.1628 175.182 -23.7483 157.676C-25.8534 149.338 -26.9718 140.606 -26.9718 131.613C-26.9718 73.0587 20.4375 25.5911 78.9195 25.5911C99.093 25.5911 117.949 31.2394 133.996 41.0426C153.369 16.0696 183.647 0 217.674 0C276.157 0 323.566 47.4675 323.566 106.022Z"
            fill="url(#paint0_linear_973_2197)"
            data-v-b9256d9e=""
          ></path>
          <path
            d="M345.257 186.29C344.143 174.595 347.429 146.693 369.483 128.649"
            stroke="#2B6786"
            stroke-width="7.68"
            stroke-linecap="round"
            data-v-b9256d9e=""
          ></path>
          <path
            d="M374.642 187.76C378.939 176.826 394.492 153.429 422.323 147.313"
            stroke="#2B6786"
            stroke-width="7.68"
            stroke-linecap="round"
            data-v-b9256d9e=""
          ></path>
          <path
            d="M488.521 482.987C500.24 482.155 528.054 486.113 545.562 508.596"
            stroke="#2B6786"
            stroke-width="7.68"
            stroke-linecap="round"
            data-v-b9256d9e=""
          ></path>
          <path
            d="M474.898 501.274C486.563 502.669 513.131 511.806 526.079 537.189"
            stroke="#2B6786"
            stroke-width="7.68"
            stroke-linecap="round"
            data-v-b9256d9e=""
          ></path>
          <path
            d="M220.927 407.088C182.384 383.928 139.17 397.438 122.381 407.088C94.6421 433.142 158.879 456.302 177.128 457.75C195.378 459.197 240.636 420.115 220.927 407.088Z"
            fill="#2B6786"
            data-v-b9256d9e=""
          ></path>
          <ellipse
            cx="165.546"
            cy="325"
            rx="41.3794"
            ry="59.6818"
            fill="white"
            data-v-b9256d9e=""
          ></ellipse>
          <ellipse
            cx="247.518"
            cy="325"
            rx="41.769"
            ry="60.1474"
            fill="white"
            data-v-b9256d9e=""
          ></ellipse>
          <circle
            cx="276"
            cy="294.258325"
            r="13"
            fill="#2D2D2D"
            ref="rightEye"
            data-v-b9256d9e=""
          ></circle>
          <circle
            cx="192"
            cy="294.258325"
            r="13"
            fill="#2D2D2D"
            ref="leftEye"
            data-v-b9256d9e=""
          ></circle>
          <defs data-v-b9256d9e="">
            <linearGradient
              id="paint0_linear_973_2197"
              x1="352.776"
              y1="0"
              x2="352.776"
              y2="680"
              gradientUnits="userSpaceOnUse"
              data-v-b9256d9e=""
            >
              <stop
                offset="0.116382"
                stop-color="#EDEDDE"
                data-v-b9256d9e=""
              ></stop>
              <stop offset="1" stop-color="#F6F6ED" data-v-b9256d9e=""></stop>
            </linearGradient>
          </defs>
        </svg>
      </div>

      <div class="contact__circle">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 500 500"
        >
          <defs>
            <path
              d="M50,250c0-110.5,89.5-200,200-200s200,89.5,200,200s-89.5,200-200,200S50,360.5,50,250"
              id="textcircle_bottom"
            >
              <animateTransform
                attributeName="transform"
                begin="0s"
                dur="20s"
                type="rotate"
                from="195 250 250"
                to="555 250 250"
                repeatCount="indefinite"
              />
            </path>
          </defs>
          <text dy="70" textLength="810">
            <textPath xlink:href="#textcircle_bottom">book now!</textPath>
          </text>
        </svg>
      </div>
    </div>
    <div class="contact__form_wrap">
      <h4 class="txt_h3">got a question?</h4>
      <div class="contact__form">
        <input
          type="text"
          class="contact__input"
          v-model="contactName"
          placeholder="name"
        />
        <input
          type="text"
          class="contact__input"
          v-model="contactEmail"
          placeholder="email"
        />
        <input
          type="text"
          class="contact__input"
          v-model="contactPhone"
          placeholder="phone"
        />
        <textarea
          type="text"
          class="contact__textarea"
          v-model="contactMessage"
          placeholder="message"
        ></textarea>
        <button class="contact__btn contact__btn-submit">done!</button>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: "contactSection",
  data() {
    return {
      contactName: "",
      contactEmail: "",
      contactPhone: "",
      contactMessage: "",
    };
  },
  methods: {
    async saveContactInfo() {
      try {
        const contactInfo = {
          date: Date.now(),
          contactName: this.contactName,
          contactEmail: this.contactEmail,
          contactPhone: this.contactPhone,
          contactMessage: this.contactMessage,
        };
        await this.$store.dispatch(
          "contactInfo/savingContactInfo",
          contactInfo
        );
      } catch (err) {
        console.log(err);
      }
    },
    moveEyes(e) {
      const gsap = this.$gsap;
      const leftEye = this.$refs.leftEye;
      const rightEye = this.$refs.rightEye;
      const depth = 10;

      let moveX = (e.pageX - window.innerWidth / 2) / depth;
      let moveY = (e.pageY - window.innerHeight / 2) / depth;

      if (moveX > 16) moveX = 16;
      else if (moveX < -40) moveX = -40;

      console.log(moveX);
      gsap.to([leftEye, rightEye], {
        x: moveX,
        y: moveY,
      });
    },
  },
};
</script>

<style lang="scss" scoped>
@import "@/assets/scss/components/section/contact/contact.scss";
</style>
